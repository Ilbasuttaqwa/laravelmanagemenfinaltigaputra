{
  "version": 2,
  "builds": [
    {
      "src": "vercel.php",
      "use": "vercel-php@0.6.0"
    }
  ],
  "buildCommand": "composer install --no-dev --optimize-autoloader && npm install && npm run build && php artisan migrate --force && php artisan db:seed --force && php artisan config:cache && php artisan route:cache && php artisan view:cache",
  "routes": [
    {
      "src": "/build/(.*)",
      "dest": "/public/build/$1"
    },
    {
      "src": "/storage/(.*)",
      "dest": "/storage/$1"
    },
    {
      "src": "/(.*)",
      "dest": "/vercel.php"
    }
  ],
  "env": {
    "APP_ENV": "production",
    "APP_DEBUG": "false",
      "APP_KEY": "base64:0TjCf2l05M8JK71JqyWys8Y/4NlALzCS3hQxwIIitHs=",
    "DB_CONNECTION": "pgsql",
    "DB_HOST": "ep-curly-star-36966813-pooler.us-east-2.aws.neon.tech",
    "DB_PORT": "5432",
    "DB_DATABASE": "neondb",
    "DB_USERNAME": "neondb_owner",
    "DB_PASSWORD": "your-neon-password",
    "APP_URL": "https://your-app.vercel.app",
    "CACHE_DRIVER": "file",
    "SESSION_DRIVER": "file",
    "QUEUE_CONNECTION": "sync"
  },
  "functions": {
    "vercel.php": {
      "runtime": "php8.2"
    }
  }
}